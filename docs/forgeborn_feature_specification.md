# Forgeborn Feature Specification

## 1. Overview

The Forgeborn system is an AI-native software factory designed to automate the development, validation, and evolution of software systems. The feature set outlined in this document supports autonomous agent execution, memory persistence, blueprint orchestration, CI/CD integration, and multi-model LLM routing for large-scale generative development.

## 2. Feature Categories

---

### A. Core Agent Loop
- **Planning Agent**
  - Accepts goals, outputs blueprint plan
  - Stores planning log to memory and Supabase
- **Evaluator Agent**
  - Evaluates output quality against expected outcomes
  - Supports scoring heuristics and configurable criteria
- **Meta Orchestrator**
  - Coordinates agent execution sequences
  - Logs execution traces and controls retry logic

---

### B. Blueprint Framework
- **Blueprint Structure**
  - YAML format with RC ID, tasks, and required output
  - Supports tagging by goal, priority, and architecture type
- **Blueprint Generation**
  - Triggered via CLI or planning agent
  - Stored to memory and logged in Supabase

---

### C. Memory and Trace Logging
- **Memory Chunks**
  - Persist task-level artifacts (JSON, YAML, Markdown)
  - Auto-indexable by RC ID, type, timestamp
- **Execution Trace**
  - Logs steps performed in each agent cycle
  - Used for traceability, replay, and repair

---

### D. CI/CD and GitHub Integration
- **Push to GitHub**
  - Via GitHub Agent
  - Auth via token stored in `.env`
- **Pull Request Generation**
  - Automated creation of PR for each RC execution
  - Includes commit message with RC ID and summary
- **GitHub Actions CI Trigger**
  - Configurable validation steps
  - Linked to planner/validator agents

---

### E. LLM Model Routing
- **Multi-LLM Adapter**
  - Supports OpenAI, Claude, Gemini, Grok
  - Strategy agent decides LLM per task
- **Model Ranking**
  - YAML config with ranking metadata
  - Strategy agent logs usage to Supabase

---

### F. Skill System
- **Modular Skills**
  - `.mjs` modules dynamically loaded at runtime
  - Implements agent functions (e.g., generate_code, summarize_trace)
- **Skill Chaining**
  - SkillChainView shows visual history of skills used per task

---

### G. Frontend Dashboard
- **Components**
  - AgentUsageView, ExecutionTimelineView, BlueprintView, InsightPanel
- **Cycle Navigation**
  - Select and replay past cycles by RC ID
- **Live Status**
  - Show status of running agent loop or blueprint generation

---

### H. Supabase Integration
- **Tables**
  - blueprints, memory_chunks, llm_logs, reflections, agent_runs
- **RLS & Hardened API**
  - Policies to restrict inserts/selects by JWT role
  - `.env` integration for token keys

---

### I. Developer Utilities
- **Rule Engine**
  - CLI `check:rules`, `fix:rules`
  - Reads rules from `rules.md`
- **Connectivity Test**
  - `supabase-connectivity-test.cjs` verifies .env and API reachability

---

## 3. Feature Traceability Matrix

| Feature | Agent | CLI | Memory | GitHub | Supabase |
|--------|--------|------|--------|--------|-----------|
| Planning Agent | ✅ | ✅ | ✅ | ✅ | ✅ |
| Evaluator Agent | ✅ | ❌ | ✅ | ❌ | ✅ |
| Strategy Agent | ✅ | ❌ | ✅ | ❌ | ✅ |
| GitHub Agent | ✅ | ✅ | ✅ | ✅ | ❌ |
| Supabase Agent | ✅ | ❌ | ✅ | ❌ | ✅ |
| DevOps Agent | ✅ | ✅ | ✅ | ❌ | ✅ |

---

## 4. Future Features

- **Meta-Memory Reflection Layer**
- **Agent Forking & Genetic Scoring**
- **Skill Marketplace**
- **Blueprint Visual Editor**
- **LLM Evaluation Reporting**

---
Generated by your Software Architect AI for the Forgeborn Project.